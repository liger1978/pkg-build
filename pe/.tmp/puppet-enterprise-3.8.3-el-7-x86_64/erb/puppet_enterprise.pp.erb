<%# Answer Variable => Ruby Variable Translation -%>
<%
  @ca_host          = ENV['q_puppetca_hostname']
  @database_host    = ENV['q_database_host']
  @database_port    = ENV['q_database_port']
  @master_host      = ENV['q_puppetagent_server']
  @puppetdb_host    = ENV['q_puppetdb_hostname']
  @puppetdb_port    = ENV['q_puppetdb_port']
  @console_host     = ENV['q_puppet_enterpriseconsole_master_hostname']
-%>
class { puppet_enterprise:
  certificate_authority_host   => '<%= @ca_host -%>',
  puppet_master_host           => '<%= @master_host -%>',
  console_host                 => '<%= @console_host -%>',
  puppetdb_host                => '<%= @puppetdb_host -%>',
  puppetdb_port                => '<%= @puppetdb_port -%>',
  database_host                => '<%= @database_host -%>',
  database_port                => '<%= @database_port -%>',
  mcollective_middleware_hosts => ['<%= @master_host -%>']
}
